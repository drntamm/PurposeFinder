{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/venn.css') }}">
<style>
    .intro-text {
        max-width: 800px;
        margin: 0 auto;
    }
    .venn-container {
        margin: 3rem auto;
    }
    .venn-circle h3 {
        font-size: 1rem;
    }
    .feature-card {
        transition: transform 0.3s ease;
        margin-bottom: 2rem;
    }
    .feature-card:hover {
        transform: translateY(-5px);
    }
    .start-button {
        margin-top: 2rem;
        padding: 1rem 3rem;
        font-size: 1.25rem;
        border-radius: 30px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
    }
    .start-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 8px rgba(0,0,0,0.15);
    }
</style>
{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="intro-text text-center">
        <h1 class="display-4 mb-4">Discover Your Purpose</h1>
        <p class="lead mb-4">
            Find your life's purpose through the ancient wisdom of Ikigai and your natural talents.
        </p>
    </div>

    <!-- Ikigai Venn Diagram -->
    <h1 class="text-center mb-4">Ikigai: Finding Your Life's Purpose</h1>
    
    <div class="venn-container">
        <div class="venn-diagram">
            <div class="venn-circle love" role="region" aria-label="What you love section">
                <h3>What You Love</h3>
                <small>Passions & Interests</small>
            </div>
            
            <div class="venn-circle good-at" role="region" aria-label="What you're good at section">
                <h3>What You're Good At</h3>
                <small>Skills & Expertise</small>
            </div>
            
            <div class="venn-circle world-needs" role="region" aria-label="What the world needs section">
                <h3>What the World Needs</h3>
                <small>Societal Challenges</small>
            </div>
            
            <div class="venn-circle natural-talents" role="region" aria-label="What you can be paid for section">
                <h3>What You Can Be Paid For</h3>
                <small>Career Opportunities</small>
            </div>
            
            <div class="intersection-label top-left" role="region" aria-label="Passion intersection">
                <h4>Passion</h4>
                <p>Love + Skills</p>
                <div class="emotion">You feel fulfilled but unwealthy</div>
            </div>
            
            <div class="intersection-label top-right" role="region" aria-label="Mission intersection">
                <h4>Mission</h4>
                <p>Love + World Needs</p>
                <div class="emotion">You feel excited but uncertain</div>
            </div>
            
            <div class="intersection-label bottom-left" role="region" aria-label="Profession intersection">
                <h4>Profession</h4>
                <p>Skills + Paid For</p>
                <div class="emotion">You feel comfortable but empty</div>
            </div>
            
            <div class="intersection-label bottom-right" role="region" aria-label="Vocation intersection">
                <h4>Vocation</h4>
                <p>World Needs + Paid For</p>
                <div class="emotion">You feel stable but unfulfilled</div>
            </div>
            
            <div class="ikigai-center" role="region" aria-label="Ikigai center">
                <h3>Ikigai</h3>
            </div>
        </div>
    </div>
    
    <div class="text-center mt-4">
        <p class="text-muted">
            Ikigai (生き甲斐) is a Japanese concept meaning "a reason for being." 
            It's the intersection of what you love, what you're good at, 
            what the world needs, and what you can be paid for.
        </p>
    </div>

    <div class="row justify-content-center mt-5">
        <div class="col-md-10">
            <div class="row">
                <div class="col-md-6">
                    <div class="card feature-card">
                        <div class="card-body">
                            <h3 class="text-primary">Understanding Ikigai</h3>
                            <p>Ikigai is a Japanese concept meaning "a reason for being." It lies at the intersection of:</p>
                            <ul>
                                <li>What brings you joy and fulfillment</li>
                                <li>What you naturally excel at</li>
                                <li>What the world desperately needs</li>
                                <li>What aligns with your inner calling</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card feature-card">
                        <div class="card-body">
                            <h3 class="text-success">Natural Talents</h3>
                            <p>Discover your unique combination of:</p>
                            <ul>
                                <li>Innate abilities and strengths</li>
                                <li>Personal growth opportunities</li>
                                <li>Service to others</li>
                                <li>Meaningful contribution</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="text-center mt-5 mb-5">
        <a href="{{ url_for('assessment') }}" class="btn btn-primary btn-lg start-button">
            Start Your Journey
        </a>
    </div>
</div>

<div class="assessment-container mt-5">
    <form id="ikigaiForm" method="POST" action="{{ url_for('assessment') }}">
        {{ form.csrf_token }}
        
        <!-- What You Love Section -->
        <div class="section-container love-section mb-5">
            <h3 class="section-title">What You Love</h3>
            <p class="section-description mb-4">Select activities and topics that bring you joy and fulfillment (choose at least one)</p>
            <div class="options-grid">
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="love1" name="love_activities" value="Creative Expression">
                    <label class="form-check-label" for="love1">Creative Expression</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="love2" name="love_activities" value="Learning & Discovery">
                    <label class="form-check-label" for="love2">Learning & Discovery</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="love3" name="love_activities" value="Helping Others">
                    <label class="form-check-label" for="love3">Helping Others</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="love4" name="love_activities" value="Nature & Outdoors">
                    <label class="form-check-label" for="love4">Nature & Outdoors</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="love5" name="love_activities" value="Technology & Innovation">
                    <label class="form-check-label" for="love5">Technology & Innovation</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="love6" name="love_activities" value="Physical Activity">
                    <label class="form-check-label" for="love6">Physical Activity</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="love7" name="love_activities" value="Arts & Culture">
                    <label class="form-check-label" for="love7">Arts & Culture</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="love8" name="love_activities" value="Social Connection">
                    <label class="form-check-label" for="love8">Social Connection</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="love9" name="love_activities" value="Problem Solving">
                    <label class="form-check-label" for="love9">Problem Solving</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="love10" name="love_activities" value="Music & Sound">
                    <label class="form-check-label" for="love10">Music & Sound</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="love11" name="love_activities" value="Writing & Communication">
                    <label class="form-check-label" for="love11">Writing & Communication</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="love12" name="love_activities" value="Personal Growth">
                    <label class="form-check-label" for="love12">Personal Growth</label>
                </div>
            </div>
        </div>

        <!-- What You're Good At Section -->
        <div class="section-container skills-section mb-5">
            <h3 class="section-title">What You're Good At</h3>
            <p class="section-description mb-4">Select skills and talents that come naturally to you (choose at least one)</p>
            <div class="options-grid">
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="skill1" name="skills_natural" value="Leadership">
                    <label class="form-check-label" for="skill1">Leadership</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="skill2" name="skills_natural" value="Analysis">
                    <label class="form-check-label" for="skill2">Analysis</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="skill3" name="skills_natural" value="Communication">
                    <label class="form-check-label" for="skill3">Communication</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="skill4" name="skills_natural" value="Creativity">
                    <label class="form-check-label" for="skill4">Creativity</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="skill5" name="skills_natural" value="Technical Expertise">
                    <label class="form-check-label" for="skill5">Technical Expertise</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="skill6" name="skills_natural" value="Organization">
                    <label class="form-check-label" for="skill6">Organization</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="skill7" name="skills_natural" value="Problem Solving">
                    <label class="form-check-label" for="skill7">Problem Solving</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="skill8" name="skills_natural" value="Teaching">
                    <label class="form-check-label" for="skill8">Teaching</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="skill9" name="skills_natural" value="Empathy">
                    <label class="form-check-label" for="skill9">Empathy</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="skill10" name="skills_natural" value="Strategic Thinking">
                    <label class="form-check-label" for="skill10">Strategic Thinking</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="skill11" name="skills_natural" value="Adaptability">
                    <label class="form-check-label" for="skill11">Adaptability</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="skill12" name="skills_natural" value="Innovation">
                    <label class="form-check-label" for="skill12">Innovation</label>
                </div>
            </div>
        </div>

        <!-- What the World Needs Section -->
        <div class="section-container world-section mb-5">
            <h3 class="section-title">What the World Needs</h3>
            <p class="section-description mb-4">Select global challenges you feel passionate about addressing (choose at least one)</p>
            <div class="options-grid">
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="world1" name="world_needs" value="Environmental Protection">
                    <label class="form-check-label" for="world1">Environmental Protection</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="world2" name="world_needs" value="Education Access">
                    <label class="form-check-label" for="world2">Education Access</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="world3" name="world_needs" value="Healthcare Innovation">
                    <label class="form-check-label" for="world3">Healthcare Innovation</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="world4" name="world_needs" value="Social Justice">
                    <label class="form-check-label" for="world4">Social Justice</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="world5" name="world_needs" value="Mental Health Support">
                    <label class="form-check-label" for="world5">Mental Health Support</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="world6" name="world_needs" value="Technology Access">
                    <label class="form-check-label" for="world6">Technology Access</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="world7" name="world_needs" value="Food Security">
                    <label class="form-check-label" for="world7">Food Security</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="world8" name="world_needs" value="Economic Equality">
                    <label class="form-check-label" for="world8">Economic Equality</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="world9" name="world_needs" value="Clean Energy">
                    <label class="form-check-label" for="world9">Clean Energy</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="world10" name="world_needs" value="Community Building">
                    <label class="form-check-label" for="world10">Community Building</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="world11" name="world_needs" value="Digital Privacy">
                    <label class="form-check-label" for="world11">Digital Privacy</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="world12" name="world_needs" value="Sustainable Living">
                    <label class="form-check-label" for="world12">Sustainable Living</label>
                </div>
            </div>
        </div>

        <!-- What You Can Be Paid For Section -->
        <div class="section-container profession-section mb-5">
            <h3 class="section-title">What You Can Be Paid For</h3>
            <p class="section-description mb-4">Select professional opportunities that interest you (choose at least one)</p>
            <div class="options-grid">
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="prof1" name="profession" value="Technology Development">
                    <label class="form-check-label" for="prof1">Technology Development</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="prof2" name="profession" value="Healthcare Services">
                    <label class="form-check-label" for="prof2">Healthcare Services</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="prof3" name="profession" value="Education & Training">
                    <label class="form-check-label" for="prof3">Education & Training</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="prof4" name="profession" value="Business Consulting">
                    <label class="form-check-label" for="prof4">Business Consulting</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="prof5" name="profession" value="Creative Services">
                    <label class="form-check-label" for="prof5">Creative Services</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="prof6" name="profession" value="Research & Analysis">
                    <label class="form-check-label" for="prof6">Research & Analysis</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="prof7" name="profession" value="Project Management">
                    <label class="form-check-label" for="prof7">Project Management</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="prof8" name="profession" value="Social Services">
                    <label class="form-check-label" for="prof8">Social Services</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="prof9" name="profession" value="Environmental Work">
                    <label class="form-check-label" for="prof9">Environmental Work</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="prof10" name="profession" value="Content Creation">
                    <label class="form-check-label" for="prof10">Content Creation</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="prof11" name="profession" value="Financial Services">
                    <label class="form-check-label" for="prof11">Financial Services</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="prof12" name="profession" value="Entrepreneurship">
                    <label class="form-check-label" for="prof12">Entrepreneurship</label>
                </div>
            </div>
        </div>

        <div class="text-center mt-4">
            <button type="submit" class="btn btn-primary btn-lg" id="submitBtn" disabled>Find Your Purpose</button>
        </div>
    </form>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('ikigaiForm');
    const submitBtn = document.getElementById('submitBtn');
    const sections = ['love_activities', 'skills_natural', 'world_needs', 'profession'];
    
    // Function to check if at least one checkbox is selected in each section
    function validateForm() {
        let isValid = true;
        
        sections.forEach(section => {
            const checkboxes = form.querySelectorAll(`input[name="${section}"]:checked`);
            if (checkboxes.length === 0) {
                isValid = false;
            }
        });
        
        submitBtn.disabled = !isValid;
    }
    
    // Add event listeners to all checkboxes
    sections.forEach(section => {
        const checkboxes = form.querySelectorAll(`input[name="${section}"]`);
        checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', validateForm);
        });
    });
    
    // Initial validation
    validateForm();
    
    // Highlight sections that need attention
    function highlightSections() {
        sections.forEach(section => {
            const checkboxes = form.querySelectorAll(`input[name="${section}"]`);
            const sectionContainer = checkboxes[0].closest('.section-container');
            const checked = form.querySelectorAll(`input[name="${section}"]:checked`).length > 0;
            
            if (!checked) {
                sectionContainer.style.boxShadow = '0 0 0 2px #dc3545';
            } else {
                sectionContainer.style.boxShadow = '0 2px 4px rgba(0, 0, 0, 0.1)';
            }
        });
    }
    
    // Add event listener to submit button
    submitBtn.addEventListener('click', function(e) {
        if (submitBtn.disabled) {
            e.preventDefault();
            highlightSections();
            alert('Please select at least one option from each section before proceeding.');
        }
    });
});
</script>
{% endblock %}
